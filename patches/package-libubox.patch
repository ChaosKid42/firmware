Index: package/libubox/Makefile
===================================================================
--- package/libubox/Makefile	(revision 32057)
+++ package/libubox/Makefile	(working copy)
@@ -1,13 +1,13 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=libubox
-PKG_VERSION:=2011-02-11
+PKG_VERSION:=2012-05-30
 PKG_RELEASE=$(PKG_SOURCE_VERSION)
 
 PKG_SOURCE_PROTO:=git
 PKG_SOURCE_URL:=git://nbd.name/luci2/libubox.git
 PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_VERSION:=83037e345dd702f2a013322139ef0b7bab7e170f
+PKG_SOURCE_VERSION:=0608d1299546d4af1facc271a090cb2abb8c6105
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION)-$(PKG_SOURCE_VERSION).tar.gz
 CMAKE_INSTALL:=1
 
@@ -21,7 +21,6 @@
   DEPENDS:=
 endef
 
-
 define Package/libblobmsg-json
   SECTION:=libs
   CATEGORY:=Libraries
@@ -29,7 +28,17 @@
   DEPENDS:=+libjson
 endef
 
+define Package/jshn
+  SECTION:=utils
+  CATEGORY:=Utilities
+  DEPENDS:=+libjson
+  TITLE:=JSON SHell Notation
+endef
 
+define Package/jshn/description
+  Library for parsing and generating JSON from shell scripts
+endef
+
 TARGET_CFLAGS += -I$(STAGING_DIR)/usr/include
 
 define Package/libubox/install
@@ -42,6 +51,13 @@
 	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/lib/libblobmsg_json.so $(1)/lib/
 endef
 
+define Package/jshn/install
+	$(INSTALL_DIR) $(1)/usr/bin $(1)/usr/share/libubox
+	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/bin/jshn $(1)/usr/bin
+	$(INSTALL_DATA) $(PKG_INSTALL_DIR)/usr/share/libubox/jshn.sh $(1)/usr/share/libubox
+endef
+
 $(eval $(call BuildPackage,libubox))
 $(eval $(call BuildPackage,libblobmsg-json))
+$(eval $(call BuildPackage,jshn))
 
